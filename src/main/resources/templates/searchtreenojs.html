<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/user-layout.html}"
      lang="en">
<head>

</head>

<body>

<section layout:fragment="content">
    <h2 class="media-heading">Search tree - no JavaScript</h2>
    <p>This is searching form.</p>

    <!--    form.   -->
    <form action="/search-tree-no-js" method="get" th:object="${treeSearchDTO}">

        <!--leaf shape part: -->
        <label for="leafBladeShapeName">Tvar lista</label>
        <select class="form-control"

                id="leafBladeShapeName"
                name="leafBladeShapeName" >
<!-- th:field="*{leafBladeShapeName}" commented out from select tag. This "th:field" cannot be used in above select tag
when "th:selected" is used in "option" tag. The "th:field" should be replaced by id="" and name="", the functionality is
the same.-->
            <option value="">nedefinovane</option>
            <option th:each="leafShape : ${leafShapes}"
                    th:value="${leafShape.name}"
                    th:text="${leafShape.prefix} + ' ' + ${leafShape.name}"
                    th:selected="${treeSearchDTO.leafBladeShapeName == leafShape.name}"></option>
        </select>






        <!--rhytidome part: -->

        <button type="submit">Search for tree</button>
        
    </form>

    <hr>

    <h3>Results</h3>
    <table class="table table-striped table-bordered">
        <thead>
        <tr>
            <th>Latin name</th>
            <th>Slovak name</th>
            <th>Family</th>
            <th>Primary habitus</th>
            <th>Secondary habitus</th>
            <th>Primary rhytidome</th>
            <th>Secondary rhytidome</th>
            <th>Leaf blade shape</th>
            <th>Leaf veins type</th>
            <th>View button</th>
        </tr>
        </thead>
        <tbody>
        <tr th:if="${allTrees.isEmpty()}">
            <td colspan="2"> No trees avaliable in database</td>
        </tr>
        <tr th:each="tree : ${allTrees}">
            <td><span th:text="${tree.latinName}"> Latin name </span></td>
            <td><span th:text="${tree.slovakName}"> Slovak name </span></td>
            <td><span th:text="${tree.familyName}"> Family </span></td>
            <td><span th:text="${tree.primaryHabitusName}"> Primary habitus </span></td>
            <td><span th:text="${tree.secondaryHabitusName}"> Secondary habitus </span></td>
            <td><span th:text="${tree.primaryRhytidomeName}">Primary rhytidome</span></td>
            <td><span th:text="${tree.secondaryRhytidomeName}">Secondary rhytidome</span></td>
            <td><span th:text="${tree.leafBladeShapeName}"> Leaf balde shape </span></td>
            <td><span th:text="${tree.leafVeinsTypeName}"> Leaf veins type </span></td>
            <td><a th:href="@{/tree/{treeId}(treeId=${tree.id})}" class="btn btn-primary">link</a></td>

        </tr>
        </tbody>
    </table>
</section>

</body>
</html>